<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tej Narayan Singh | Portfolio Inspired Resume</title>
  <style>
    :root {
      --bg: #f5f7fb;
      --ink: #1b2431;
      --muted: #4d6178;
      --line: #dbe4ef;
      --accent: #0f9d8a;
      --accent-dark: #0a6f6f;
      --accent-soft: #dff7f1;
      --warm: #ffb36c;
      --card: #ffffff;
      --shadow: 0 16px 40px rgba(12, 26, 41, 0.1);
    }

    * {
      box-sizing: border-box;
    }

    html,
    body {
      margin: 0;
      padding: 0;
      width: 100%;
      min-height: 100%;
      scroll-behavior: smooth;
    }

    body {
      font-family: "Avenir Next", "Trebuchet MS", "Segoe UI", sans-serif;
      color: var(--ink);
      background:
        radial-gradient(circle at 0% 0%, #ffffff 0%, #f4fbff 35%, transparent 56%),
        radial-gradient(circle at 100% 100%, #fff4e8 0%, transparent 44%),
        var(--bg);
      line-height: 1.45;
      overflow-x: hidden;
    }

    body.theme-dark {
      --bg: #050915;
      --ink: #e5ecff;
      --muted: #9fb1c9;
      --line: #1e2938;
      --accent: #24b3a2;
      --accent-dark: #1b8a85;
      --accent-soft: rgba(36, 179, 162, 0.14);
      --card: #0b1320;
      background:
        radial-gradient(circle at 0% 0%, #111827 0%, #020617 35%, transparent 60%),
        radial-gradient(circle at 100% 100%, #111827 0%, transparent 52%),
        var(--bg);
      color: var(--ink);
    }

    .bg-shape {
      position: fixed;
      border-radius: 999px;
      pointer-events: none;
      filter: blur(42px);
      opacity: 0.45;
      z-index: -2;
    }

    .shape-a {
      width: 360px;
      height: 360px;
      background: #bff3e2;
      top: -120px;
      right: -90px;
      animation: float-a 9s ease-in-out infinite alternate;
    }

    .shape-b {
      width: 300px;
      height: 300px;
      background: #ffe0c0;
      left: -120px;
      bottom: -100px;
      animation: float-b 10s ease-in-out infinite alternate;
    }

    @keyframes float-a {
      from {
        transform: translate3d(-12px, 8px, 0);
      }
      to {
        transform: translate3d(14px, -10px, 0);
      }
    }

    @keyframes float-b {
      from {
        transform: translate3d(10px, -8px, 0);
      }
      to {
        transform: translate3d(-14px, 10px, 0);
      }
    }

    .topbar {
      position: sticky;
      top: 0;
      z-index: 20;
      border-bottom: 1px solid rgba(27, 36, 49, 0.08);
      backdrop-filter: blur(12px);
      background: rgba(245, 247, 251, 0.88);
    }

    body.theme-dark .topbar {
      border-bottom-color: rgba(148, 163, 184, 0.25);
      background: rgba(15, 23, 42, 0.92);
    }

    .topbar-inner {
      width: min(1100px, 94vw);
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
      min-height: 64px;
      gap: 12px;
    }

    .brand {
      font-weight: 700;
      letter-spacing: 0.02em;
      text-transform: uppercase;
      font-size: 0.9rem;
      color: #102330;
      white-space: nowrap;
    }

    body.theme-dark .brand {
      color: #e5ecff;
    }

    .nav {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      justify-content: flex-end;
    }

    .nav a {
      text-decoration: none;
      color: var(--muted);
      font-size: 0.84rem;
      padding: 7px 10px;
      border-radius: 999px;
      transition: 0.22s ease;
      border: 1px solid transparent;
    }

    .nav a:hover,
    .nav a.active {
      color: var(--accent-dark);
      background: var(--accent-soft);
      border-color: #afe8db;
    }

    .theme-toggle {
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.5);
      padding: 6px 10px;
      margin-left: 8px;
      background: rgba(255, 255, 255, 0.8);
      color: #0f172a;
      font-size: 0.78rem;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.2s ease, transform 0.15s ease, border-color 0.2s ease;
      white-space: nowrap;
    }

    .theme-toggle:hover {
      background: #e0ecff;
      transform: translateY(-1px);
      border-color: #93c5fd;
    }

    body.theme-dark .theme-toggle {
      background: rgba(15, 23, 42, 0.9);
      color: #e5ecff;
      border-color: rgba(148, 163, 184, 0.8);
    }

    .scroll-progress {
      position: absolute;
      left: 0;
      bottom: 0;
      height: 2px;
      width: 0;
      background: linear-gradient(90deg, var(--accent), var(--warm));
      transform-origin: left;
      transition: width 0.1s linear;
    }

    main {
      width: min(1100px, 94vw);
      margin: 0 auto;
      padding: 24px 0 44px;
    }

    section {
      margin-bottom: 38px;
    }

    .hero {
      display: grid;
      grid-template-columns: 1.2fr 0.8fr;
      gap: 20px;
      align-items: center;
      padding-top: 16px;
    }

    .hero-text h1 {
      margin: 0;
      font-size: clamp(1.95rem, 4vw, 3rem);
      line-height: 1.08;
      letter-spacing: 0.01em;
    }

    .hero-text .hello {
      margin: 0 0 8px;
      font-size: 0.95rem;
      color: var(--accent-dark);
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.06em;
    }

    .hero-text p {
      margin: 13px 0 0;
      color: var(--muted);
      max-width: 62ch;
      font-size: 1rem;
    }

    .cta-row {
      margin-top: 18px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .btn {
      text-decoration: none;
      font-weight: 600;
      border-radius: 12px;
      padding: 10px 14px;
      font-size: 0.9rem;
      border: 1px solid transparent;
      transition: all 0.22s ease;
      display: inline-flex;
      align-items: center;
      gap: 7px;
    }

    .btn-primary {
      color: #fff;
      background: linear-gradient(130deg, var(--accent), var(--accent-dark));
      box-shadow: 0 12px 24px rgba(10, 111, 111, 0.22);
    }

    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 14px 26px rgba(10, 111, 111, 0.26);
    }

    .btn-soft {
      color: #183048;
      background: #fff;
      border-color: #ccd9ea;
    }

    .btn-soft:hover {
      border-color: #a6bedb;
      transform: translateY(-1px);
    }

    .hero-card {
      background: var(--card);
      border-radius: 20px;
      border: 1px solid var(--line);
      padding: 16px;
      box-shadow: var(--shadow);
      position: relative;
      overflow: hidden;
    }

    .hero-card::before {
      content: "";
      position: absolute;
      width: 220px;
      height: 220px;
      background: radial-gradient(circle, rgba(15, 157, 138, 0.22), transparent 64%);
      right: -80px;
      top: -70px;
    }

    .hero-card h3 {
      margin: 0 0 9px;
      font-size: 0.95rem;
      letter-spacing: 0.03em;
      text-transform: uppercase;
      color: #25425a;
    }

    .chip-wrap {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .chip {
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid #d0deee;
      background: #f8fbff;
      font-size: 0.78rem;
      color: #2f4f67;
      font-weight: 600;
    }

    .section-title {
      margin: 0 0 8px;
      font-size: clamp(1.25rem, 2.2vw, 1.7rem);
      letter-spacing: 0.01em;
    }

    .section-sub {
      margin: 0;
      color: var(--muted);
      font-size: 0.95rem;
    }

    .grid-two {
      margin-top: 14px;
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 16px;
    }

    .card {
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: 16px;
      padding: 16px;
      box-shadow: var(--shadow);
    }

    .card h3 {
      margin: 0 0 8px;
      font-size: 1.05rem;
      color: #21384f;
    }

    .card ul {
      margin: 0;
      padding-left: 19px;
      color: #30495f;
    }

    .card li {
      margin-bottom: 7px;
    }

    .meter-list {
      margin-top: 16px;
      display: grid;
      gap: 11px;
    }

    .meter-row {
      background: #fff;
      border: 1px solid var(--line);
      border-radius: 12px;
      padding: 11px 12px;
      box-shadow: 0 8px 18px rgba(15, 34, 54, 0.06);
    }

    .meter-head {
      display: flex;
      justify-content: space-between;
      font-size: 0.89rem;
      margin-bottom: 8px;
      color: #263d53;
      font-weight: 600;
    }

    .meter-track {
      height: 9px;
      border-radius: 999px;
      background: #e6edf6;
      overflow: hidden;
    }

    .meter-fill {
      height: 100%;
      width: 0;
      border-radius: 999px;
      background: linear-gradient(120deg, var(--accent), var(--warm));
      transition: width 1.1s ease;
    }

    .timeline {
      margin-top: 14px;
      position: relative;
      padding-left: 22px;
    }

    .timeline::before {
      content: "";
      position: absolute;
      left: 7px;
      top: 4px;
      bottom: 6px;
      width: 2px;
      background: linear-gradient(var(--accent), #9ac0d1);
    }

    .entry {
      margin-bottom: 16px;
      position: relative;
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: 14px;
      padding: 13px 14px 12px;
      box-shadow: 0 10px 22px rgba(15, 36, 58, 0.07);
    }

    .entry::before {
      content: "";
      position: absolute;
      left: -21px;
      top: 16px;
      width: 10px;
      height: 10px;
      border-radius: 999px;
      background: var(--accent);
      border: 2px solid #fff;
      box-shadow: 0 0 0 2px rgba(15, 157, 138, 0.3);
    }

    .entry-head {
      display: flex;
      gap: 9px;
      justify-content: space-between;
      flex-wrap: wrap;
      margin-bottom: 4px;
    }

    .entry-head strong {
      color: #18334b;
    }

    .entry-head span {
      color: #5b738b;
      font-size: 0.85rem;
    }

    .entry p {
      margin: 0;
      color: #385065;
      font-size: 0.92rem;
    }

    .entry ul {
      margin: 8px 0 0;
      padding-left: 17px;
      color: #344a5f;
    }

    .projects {
      margin-top: 16px;
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 16px;
    }

    .project {
      background: linear-gradient(170deg, #ffffff, #f8fcff);
      border: 1px solid var(--line);
      border-radius: 16px;
      padding: 16px;
      box-shadow: var(--shadow);
      transform-style: preserve-3d;
      transition: transform 0.25s ease;
    }

    .project h3 {
      margin: 0 0 8px;
      color: #20374d;
    }

    .project p {
      margin: 0;
      color: #375065;
      font-size: 0.93rem;
    }

    .project .tags {
      margin-top: 12px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .project .tags span {
      font-size: 0.76rem;
      font-weight: 600;
      border-radius: 999px;
      padding: 5px 9px;
      border: 1px solid #cedceb;
      color: #30506a;
      background: #ffffff;
    }

    body.theme-dark .hero-card h3,
    body.theme-dark .card h3,
    body.theme-dark .project h3 {
      color: var(--ink);
    }

    body.theme-dark .card ul,
    body.theme-dark .entry p,
    body.theme-dark .entry ul,
    body.theme-dark .project p,
    body.theme-dark .section-sub {
      color: var(--muted);
    }

    body.theme-dark .entry-head strong {
      color: var(--ink);
    }

    body.theme-dark .entry-head span {
      color: var(--muted);
    }

    body.theme-dark .chip {
      background: rgba(15, 23, 42, 0.85);
      border-color: rgba(148, 163, 184, 0.6);
      color: var(--ink);
    }

    body.theme-dark .project {
      background: radial-gradient(circle at 0 0, rgba(36, 179, 162, 0.2), transparent 55%),
        radial-gradient(circle at 100% 100%, rgba(56, 189, 248, 0.22), transparent 55%),
        #020617;
    }

    body.theme-dark .project .tags span {
      background: rgba(15, 23, 42, 0.9);
      border-color: rgba(148, 163, 184, 0.6);
      color: var(--ink);
    }

    .contact {
      background: linear-gradient(130deg, #0e2d3a, #163d4a);
      color: #e7f8ff;
      border-radius: 18px;
      padding: 22px;
      box-shadow: 0 20px 42px rgba(7, 20, 31, 0.34);
      position: relative;
      overflow: hidden;
    }

    .contact::before {
      content: "";
      position: absolute;
      width: 240px;
      height: 240px;
      border-radius: 999px;
      background: radial-gradient(circle, rgba(255, 179, 108, 0.36), transparent 62%);
      right: -90px;
      top: -80px;
    }

    .contact h2 {
      margin: 0 0 8px;
      font-size: 1.45rem;
    }

    .contact p {
      margin: 0;
      color: #c9e8f7;
      max-width: 64ch;
    }

    .contact-links {
      margin-top: 14px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .contact-links a {
      text-decoration: none;
      color: #f4fcff;
      border: 1px solid rgba(204, 234, 245, 0.42);
      padding: 8px 12px;
      border-radius: 10px;
      font-size: 0.86rem;
      background: rgba(8, 26, 34, 0.25);
    }

    .contact-links a:hover {
      background: rgba(255, 255, 255, 0.12);
    }

    .reveal {
      opacity: 0;
      transform: translateY(16px);
      transition: all 0.65s ease;
    }

    .reveal.in {
      opacity: 1;
      transform: translateY(0);
    }

    footer {
      text-align: center;
      color: #5f748a;
      font-size: 0.84rem;
      padding: 10px 0 2px;
    }

    body.theme-dark footer {
      color: #9fb1c9;
    }

    @media (max-width: 980px) {
      .hero {
        grid-template-columns: 1fr;
      }

      .grid-two,
      .projects {
        grid-template-columns: 1fr;
      }
    }

    @media (max-width: 720px) {
      .topbar-inner {
        min-height: 58px;
        align-items: flex-start;
        padding: 10px 0;
      }

      .brand {
        font-size: 0.8rem;
      }

      .nav a {
        font-size: 0.78rem;
        padding: 6px 8px;
      }

      main {
        padding-top: 16px;
      }

      section {
        margin-bottom: 30px;
      }
    }
  </style>
</head>
<body>
  <div class="bg-shape shape-a"></div>
  <div class="bg-shape shape-b"></div>

  <header class="topbar">
    <div class="topbar-inner">
      <div class="brand">&lt;Tej Narayan Singh /&gt;</div>
      <nav class="nav" id="nav">
        <a href="#home" class="active">Home</a>
        <a href="#what">What I Do</a>
        <a href="#proficiency">Proficiency</a>
        <a href="#journey">Journey</a>
        <a href="#projects">Projects</a>
        <a href="#highlights">Highlights</a>
        <a href="#contact">Contact</a>
      </nav>
    </div>
    <div class="scroll-progress"></div>
  </header>

  <main>
    <section class="hero reveal in" id="home">
      <div class="hero-text">
        <p class="hello">Namaste World</p>
        <h1>I am Tej Narayan Singh.<br />Backend Engineer for high-scale systems.</h1>
        <p>
          Software Development Engineer II with 2.8+ years of experience building low-latency, high-throughput
          distributed systems. I work across Java services, event streams, caching strategies, and real-time
          platform workflows.
        </p>
        <div class="cta-row">
          <a class="btn btn-primary" href="#contact">Contact Me</a>
          <a class="btn btn-soft" href="3dportfolio.html">See 3D Resume</a>
        </div>
      </div>
      <aside class="hero-card">
        <h3>Core Stack</h3>
        <div class="chip-wrap">
          <span class="chip">Java</span>
          <span class="chip">Kafka</span>
          <span class="chip">Spark</span>
          <span class="chip">Redis</span>
          <span class="chip">Kubernetes</span>
          <span class="chip">MySQL</span>
          <span class="chip">MongoDB</span>
          <span class="chip">Aerospike</span>
          <span class="chip">DropWizard</span>
          <span class="chip">GCP</span>
        </div>
      </aside>
    </section>

    <section class="reveal" id="what">
      <h2 class="section-title">What I Do</h2>
      <p class="section-sub">Backend engineering focused on reliability, scale, and data-driven platform behavior.</p>
      <div class="grid-two">
        <article class="card">
          <h3>Distributed Product Systems</h3>
          <ul>
            <li>Build and evolve production backend services for high-traffic consumer platforms.</li>
            <li>Design resilient models and service contracts for atomic updates and backward compatibility.</li>
            <li>Enable dynamic banner/product workflows using thresholds and event triggers.</li>
          </ul>
        </article>
        <article class="card">
          <h3>Data and Lifecycle Automation</h3>
          <ul>
            <li>Implement automation pipelines that replace static rule trees with adaptive logic.</li>
            <li>Create archival systems using performance signals to reduce clutter and improve efficiency.</li>
            <li>Apply cache-aware validation to maintain consistency during high load.</li>
          </ul>
        </article>
      </div>
    </section>

    <section class="reveal" id="proficiency">
      <h2 class="section-title">Proficiency</h2>
      <p class="section-sub">A profile aligned to backend architecture and platform throughput.</p>
      <div class="meter-list">
        <div class="meter-row">
          <div class="meter-head"><span>Backend Architecture</span><span>93%</span></div>
          <div class="meter-track"><div class="meter-fill" data-width="93"></div></div>
        </div>
        <div class="meter-row">
          <div class="meter-head"><span>Distributed Streaming and Async Workflows</span><span>90%</span></div>
          <div class="meter-track"><div class="meter-fill" data-width="90"></div></div>
        </div>
        <div class="meter-row">
          <div class="meter-head"><span>Data Systems and Caching</span><span>88%</span></div>
          <div class="meter-track"><div class="meter-fill" data-width="88"></div></div>
        </div>
        <div class="meter-row">
          <div class="meter-head"><span>Production Ownership and Rollouts</span><span>91%</span></div>
          <div class="meter-track"><div class="meter-fill" data-width="91"></div></div>
        </div>
      </div>
    </section>

    <section class="reveal" id="journey">
      <h2 class="section-title">Education and Experience</h2>
      <p class="section-sub">Academic foundation plus production engineering execution.</p>
      <div class="timeline">
        <article class="entry">
          <div class="entry-head">
            <strong>Flipkart | Software Development Engineer II</strong>
            <span>June 2023 - Present</span>
          </div>
          <p>Owned backend features in the Multi-Clickable Banner Framework and lifecycle automation systems.</p>
          <ul>
            <li>Enabled multiple URLs per banner with independent health validation.</li>
            <li>Built automated product-based banner generation and archival pipeline.</li>
            <li>Delivered XtraSaver offer-trigger activation with cache-aware consistency checks.</li>
          </ul>
        </article>
        <article class="entry">
          <div class="entry-head">
            <strong>S&amp;P Global | Intern</strong>
            <span>June 2022 - July 2022</span>
          </div>
          <p>Worked on database migration quality and internal debugger tooling.</p>
          <ul>
            <li>Supported relational migration from PostgreSQL to MySQL with schema and query validation.</li>
            <li>Contributed to Control Plane tooling for query analysis and inconsistency resolution.</li>
          </ul>
        </article>
        <article class="entry">
          <div class="entry-head">
            <strong>NSUT, Delhi | B.Tech Information Technology</strong>
            <span>Aug 2019 - May 2023</span>
          </div>
          <p>GPA 7.51. Built core understanding in DSA, OOP, and scalable systems fundamentals.</p>
        </article>
      </div>
    </section>

    <section class="reveal" id="projects">
      <h2 class="section-title">Projects</h2>
      <p class="section-sub">Backend-heavy projects with optimization and recommendation workflows.</p>
      <div class="projects">
        <article class="project tilt-card">
          <h3>Cashflow Supplier and Expiry Reorder Assistant</h3>
          <p>
            Inventory optimization assistant with demand forecasting, safety stock modeling, and expiry-aware
            reorder logic to guide supplier and stock decisions.
          </p>
          <div class="tags">
            <span>Event Driven</span>
            <span>Forecasting</span>
            <span>Decision Engine</span>
          </div>
        </article>
        <article class="project tilt-card">
          <h3>TestPaper</h3>
          <p>
            AI-powered question generation and tagging platform with dynamic paper assembly, unified MySQL schema,
            and personalized result annotations.
          </p>
          <div class="tags">
            <span>AI Pipeline</span>
            <span>MySQL</span>
            <span>Adaptive Assessment</span>
          </div>
        </article>
      </div>
    </section>

    <section class="reveal" id="highlights">
      <h2 class="section-title">Highlights</h2>
      <p class="section-sub">Competitive performance and impact signals from my journey so far.</p>
      <div class="grid-two">
        <article class="card">
          <h3>Achievements</h3>
          <ul>
            <li>Global Rank 1034 in Google Kick Start Round A.</li>
            <li>World Rank 8232 in Google Hash Code.</li>
            <li>Selected for national-level presentation at Philips Healthcare for ML-based disease prediction solution.</li>
          </ul>
        </article>
        <article class="card">
          <h3>Work Style</h3>
          <ul>
            <li>Ownership of production systems with measured rollout strategy.</li>
            <li>Bias toward automation and data-backed product decisions.</li>
            <li>Focus on reliability under high traffic and distributed failure conditions.</li>
          </ul>
        </article>
      </div>
    </section>

    <section class="contact reveal" id="contact">
      <h2>Contact Me</h2>
      <p>
        Open to backend platform roles and system design opportunities involving high-scale consumer traffic,
        distributed workflows, and data-intensive product features.
      </p>
      <div class="contact-links">
        <a href="mailto:tejnarayan950@gmail.com">tejnarayan950@gmail.com</a>
        <a href="tel:+918510099988">+91 8510099988</a>
        <a href="https://linkedin.com/in/tej-narayan-singh" target="_blank" rel="noreferrer noopener">LinkedIn</a>
        <a href="https://github.com/teji307" target="_blank" rel="noreferrer noopener">GitHub</a>
      </div>
    </section>

    <footer>Crafted as a portfolio-inspired single page for Tej Narayan Singh</footer>
  </main>

  <button class="back-to-top" type="button" aria-label="Back to top">â†‘</button>

  <script>
    (function () {
      const navLinks = Array.from(document.querySelectorAll("#nav a"));
      const sections = navLinks
        .map((link) => document.querySelector(link.getAttribute("href")))
        .filter(Boolean);
      const revealEls = Array.from(document.querySelectorAll(".reveal"));
      const meterFills = Array.from(document.querySelectorAll(".meter-fill"));
      const tiltCards = Array.from(document.querySelectorAll(".tilt-card"));
      const progressBar = document.querySelector(".scroll-progress");
      const backToTop = document.querySelector(".back-to-top");

      const prefersDark = window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches;
      const storedTheme = window.localStorage ? localStorage.getItem("theme") : null;
      const initialTheme = storedTheme || (prefersDark ? "dark" : "light");

      function applyTheme(theme) {
        const isDark = theme === "dark";
        document.body.classList.toggle("theme-dark", isDark);
      }

      applyTheme(initialTheme);

      const themeToggle = document.createElement("button");
      themeToggle.type = "button";
      themeToggle.className = "theme-toggle";
      themeToggle.setAttribute("aria-label", "Toggle dark mode");
      themeToggle.textContent = document.body.classList.contains("theme-dark") ? "Light mode" : "Dark mode";

      const topbarInner = document.querySelector(".topbar-inner");
      if (topbarInner) {
        topbarInner.appendChild(themeToggle);
      }

      themeToggle.addEventListener("click", () => {
        const nextTheme = document.body.classList.contains("theme-dark") ? "light" : "dark";
        applyTheme(nextTheme);
        themeToggle.textContent = nextTheme === "dark" ? "Light mode" : "Dark mode";
        if (window.localStorage) {
          localStorage.setItem("theme", nextTheme);
        }
      });

      function handleScroll() {
        const scrollY = window.scrollY + 90;
        let currentId = sections[0] ? sections[0].id : "";

        sections.forEach((section) => {
          if (scrollY >= section.offsetTop) {
            currentId = section.id;
          }
        });

        navLinks.forEach((link) => {
          link.classList.toggle("active", link.getAttribute("href") === "#" + currentId);
        });

        if (progressBar) {
          const docHeight = document.documentElement.scrollHeight - window.innerHeight;
          const progress = docHeight > 0 ? (window.scrollY / docHeight) * 100 : 0;
          progressBar.style.width = progress + "%";
        }

        if (backToTop) {
          backToTop.classList.toggle("visible", window.scrollY > 260);
        }
      }

      const revealObserver = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (!entry.isIntersecting) {
              return;
            }
            entry.target.classList.add("in");
            revealObserver.unobserve(entry.target);
          });
        },
        { threshold: 0.16 }
      );

      revealEls.forEach((el) => revealObserver.observe(el));

      const meterObserver = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (!entry.isIntersecting) {
              return;
            }
            const fill = entry.target;
            fill.style.width = fill.dataset.width + "%";
            meterObserver.unobserve(fill);
          });
        },
        { threshold: 0.35 }
      );

      meterFills.forEach((fill) => meterObserver.observe(fill));

      tiltCards.forEach((card) => {
        card.addEventListener("pointermove", (event) => {
          const rect = card.getBoundingClientRect();
          const x = (event.clientX - rect.left) / rect.width;
          const y = (event.clientY - rect.top) / rect.height;
          const rx = (0.5 - y) * 6;
          const ry = (x - 0.5) * 8;
          card.style.transform = "rotateX(" + rx + "deg) rotateY(" + ry + "deg) translateY(-2px)";
        });

        card.addEventListener("pointerleave", () => {
          card.style.transform = "rotateX(0deg) rotateY(0deg)";
        });
      });

      if (backToTop) {
        backToTop.addEventListener("click", () => {
          window.scrollTo({ top: 0, behavior: "smooth" });
        });
      }

      window.addEventListener("scroll", handleScroll, { passive: true });
      handleScroll();
    })();
  </script>
</body>
</html>
